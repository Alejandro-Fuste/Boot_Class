{"ast":null,"code":"import _defineProperty from \"/Users/alejandro/Desktop/Boot_Class/Boot_Class2/class-content/21-mern/21.1/04-Stu_AJAXFormDelete/Unsolved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/alejandro/Desktop/Boot_Class/Boot_Class2/class-content/21-mern/21.1/04-Stu_AJAXFormDelete/Unsolved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/alejandro/Desktop/Boot_Class/Boot_Class2/class-content/21-mern/21.1/04-Stu_AJAXFormDelete/Unsolved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/alejandro/Desktop/Boot_Class/Boot_Class2/class-content/21-mern/21.1/04-Stu_AJAXFormDelete/Unsolved/client/src/pages/Books.js\";\nimport React, { useEffect, useState } from 'react';\nimport Jumbotron from '../components/Jumbotron';\nimport DeleteBtn from '../components/DeleteBtn';\nimport API from '../utils/API';\nimport { Col, Row, Container } from '../components/Grid';\nimport { List, ListItem } from '../components/List';\nimport { Input, TextArea, FormBtn } from '../components/Form';\n\nfunction Books() {\n  var _this = this;\n\n  // Setting our component's initial state\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      books = _useState2[0],\n      setBooks = _useState2[1]; // update the initial state to provide values for\n  // the controls in the form (use empty strings)\n\n\n  var _useState3 = useState({\n    title: '',\n    synposis: '',\n    author: ''\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formObject = _useState4[0],\n      setFormObject = _useState4[1]; // Load all books and store them with setBooks\n\n\n  useEffect(function () {\n    loadBooks();\n  }, []); // Loads all books and sets them to books\n\n  function loadBooks() {\n    API.getBooks().then(function (res) {\n      return setBooks(res.data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  function handleInputChange(event) {\n    // add code to control the components here\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setFormObject(_objectSpread({}, formObject, _defineProperty({}, name, value)));\n  }\n\n  function handleFormSubmit(event) {\n    // add code here to post a new book to the api\n    event.preventDefault();\n\n    if (formObject.title && formObject.author) {\n      API.saveBook({\n        title: formObject.title,\n        author: formObject.author,\n        synposis: formObject.synposis\n      }).then(function () {\n        return setFormObject({\n          title: '',\n          synposis: '',\n          author: ''\n        });\n      }).then(function () {\n        return loadBooks();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }\n\n  function deleteBook() {// add code here to remove a book using API\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"What Books Should I Read?\")), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    onChange: handleInputChange,\n    name: \"title\",\n    placeholder: \"Title (required)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: handleInputChange,\n    name: \"author\",\n    placeholder: \"Author (required)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    onChange: handleInputChange,\n    name: \"synopsis\",\n    placeholder: \"Synopsis (Optional)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(FormBtn, {\n    disabled: !(formObject.author && formObject.title),\n    onClick: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \"Submit Book\"))), /*#__PURE__*/React.createElement(Col, {\n    size: \"md-6 sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, \"Books On My List\")), books.length ? /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, books.map(function (book) {\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: book._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: '/books/' + book._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 12\n      }\n    }, book.title, \" by \", book.author)), /*#__PURE__*/React.createElement(DeleteBtn, {\n      onClick: function onClick() {\n        return deleteBook(book._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }));\n  })) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, \"No Results to Display\"))));\n}\n\nexport default Books;","map":{"version":3,"sources":["/Users/alejandro/Desktop/Boot_Class/Boot_Class2/class-content/21-mern/21.1/04-Stu_AJAXFormDelete/Unsolved/client/src/pages/Books.js"],"names":["React","useEffect","useState","Jumbotron","DeleteBtn","API","Col","Row","Container","List","ListItem","Input","TextArea","FormBtn","Books","books","setBooks","title","synposis","author","formObject","setFormObject","loadBooks","getBooks","then","res","data","catch","err","console","log","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","saveBook","deleteBook","length","map","book","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Jumbotron from '../components/Jumbotron';\nimport DeleteBtn from '../components/DeleteBtn';\nimport API from '../utils/API';\nimport { Col, Row, Container } from '../components/Grid';\nimport { List, ListItem } from '../components/List';\nimport { Input, TextArea, FormBtn } from '../components/Form';\n\nfunction Books() {\n\t// Setting our component's initial state\n\tconst [ books, setBooks ] = useState([]);\n\n\t// update the initial state to provide values for\n\t// the controls in the form (use empty strings)\n\tconst [ formObject, setFormObject ] = useState({\n\t\ttitle: '',\n\t\tsynposis: '',\n\t\tauthor: ''\n\t});\n\n\t// Load all books and store them with setBooks\n\tuseEffect(() => {\n\t\tloadBooks();\n\t}, []);\n\n\t// Loads all books and sets them to books\n\tfunction loadBooks() {\n\t\tAPI.getBooks().then((res) => setBooks(res.data)).catch((err) => console.log(err));\n\t}\n\n\tfunction handleInputChange(event) {\n\t\t// add code to control the components here\n\t\tconst { name, value } = event.target;\n\t\tsetFormObject({ ...formObject, [name]: value });\n\t}\n\n\tfunction handleFormSubmit(event) {\n\t\t// add code here to post a new book to the api\n\t\tevent.preventDefault();\n\t\tif (formObject.title && formObject.author) {\n\t\t\tAPI.saveBook({\n\t\t\t\ttitle: formObject.title,\n\t\t\t\tauthor: formObject.author,\n\t\t\t\tsynposis: formObject.synposis\n\t\t\t})\n\t\t\t\t.then(() =>\n\t\t\t\t\tsetFormObject({\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\tsynposis: '',\n\t\t\t\t\t\tauthor: ''\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.then(() => loadBooks())\n\t\t\t\t.catch((err) => console.log(err));\n\t\t}\n\t}\n\n\tfunction deleteBook() {\n\t\t// add code here to remove a book using API\n\t}\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row>\n\t\t\t\t<Col size=\"md-6\">\n\t\t\t\t\t<Jumbotron>\n\t\t\t\t\t\t<h1>What Books Should I Read?</h1>\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<form>\n\t\t\t\t\t\t{/* inputs should be updated to be controlled inputs */}\n\t\t\t\t\t\t<Input onChange={handleInputChange} name=\"title\" placeholder=\"Title (required)\" />\n\t\t\t\t\t\t<Input onChange={handleInputChange} name=\"author\" placeholder=\"Author (required)\" />\n\t\t\t\t\t\t<TextArea onChange={handleInputChange} name=\"synopsis\" placeholder=\"Synopsis (Optional)\" />\n\t\t\t\t\t\t<FormBtn disabled={!(formObject.author && formObject.title)} onClick={handleFormSubmit}>\n\t\t\t\t\t\t\tSubmit Book\n\t\t\t\t\t\t</FormBtn>\n\t\t\t\t\t</form>\n\t\t\t\t</Col>\n\t\t\t\t<Col size=\"md-6 sm-12\">\n\t\t\t\t\t<Jumbotron>\n\t\t\t\t\t\t<h1>Books On My List</h1>\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t{books.length ? (\n\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t{books.map((book) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<ListItem key={book._id}>\n\t\t\t\t\t\t\t\t\t\t<a href={'/books/' + book._id}>\n\t\t\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t\t\t{book.title} by {book.author}\n\t\t\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<DeleteBtn onClick={() => deleteBook(book._id)} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<h3>No Results to Display</h3>\n\t\t\t\t\t)}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n}\n\nexport default Books;\n"]},"metadata":{},"sourceType":"module"}